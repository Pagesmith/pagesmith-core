/*jsl:ignoreall*/

function escapeHTML(a){return $("<div/>").text(a).html()}PageSmith.format=function(d,c){var a="";while(c.length>0){var b=c.match(/^(.*?)\[\[([ruh]:\w+|\w+|d:\d+:\w+)\]\](.*)$/);if(b){a+=b[1];switch(b[2].substr(0,2)){case"r:":a+=escape(d[b[2].substr(2)]);break;case"u:":a+=d[b[2].substr(2)];break;case"h:":a+=escapeHTML(d[b[2].substr(2)]);break;case"d:":var e=b[2].match(/(\d+):(\w+)/);if(e){a+=d[e[2]].toFixed(e[1])}else{a+="0"}default:a+=escapeHTML(d[b[2]])}c=b[3]}else{a+=c;break}}return a};PageSmith.Select={data:[],options:{},init:function(a,b){this.options=a;this.data=b;return this},format:PageSmith.format,draw:function(){var b=[];for (var a=this.data.length;a;a--){b.unshift('<option value="'+this.format(this.data[a-1],this.options.value_template)+'">'+this.format(this.data[a-1],this.options.label_template)+"</option>")}if(this.options.first_line){b.unshift('<option value="">'+this.options.first_line+"</option>")}return'<select id="'+this.options.id+'" name="'+this.options.name+'">'+b.join("")+"</select>"}};PageSmith.Table={data:[],options:{},structure:[],format:PageSmith.format,init:function(b,a,c){this.structure=a;this.options=b;this.data=c;return this},draw:function(){var f=[];for (var b=this.structure.length;b;b--){var e=this.structure[b-1];f.unshift("<th>"+e.label+"</th>")}var a=[];for (var d=this.data.length;d;d--){r=[];for (var b=this.structure.length;b;b--){var e=this.structure[b-1];var g="";if(e.format){g=this.format(this.data[d-1],e.format)}else{g=this.data[d-1][e.vid]}if(g==null){g=e.def}r.unshift('<td class="'+e.align+'">'+g+"</td>")}a.unshift("<tr>"+r.join("")+"</tr>")}return'<table class="'+this.options.className+'"><thead><tr>'+f.join("")+"</tr></thead><tbody>"+a.join("")+"</tbody></table>"}};PageSmith.Timer={t0:0,set_status:function(b){if(typeof(console)!="undefined"){var e=new Date();var c=e.getTime();var a=(c-this.t0)/1000;console.log(a.toFixed(3)+": "+(b==""?"completed":b))}$("#status").html(b)},init:function(){var a=new Date();this.t0=a.getTime()}};
