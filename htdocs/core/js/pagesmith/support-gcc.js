/*jsl:ignoreall*/

function escapeHTML(b){return $("<div/>").text(b).html()}PageSmith.format=function(b,a){for(var c="";a.length>0;){var d=a.match(/^(.*?)\[\[([ruh]:\w+|\w+|d:\d+:\w+)\]\](.*)$/);if(d){c+=d[1];switch(d[2].substr(0,2)){case "r:":c+=escape(b[d[2].substr(2)]);break;case "u:":c+=b[d[2].substr(2)];break;case "h:":c+=escapeHTML(b[d[2].substr(2)]);break;case "d:":a=d[2].match(/(\d+):(\w+)/);c+=a?b[a[2]].toFixed(a[1]):"0";default:c+=escapeHTML(b[d[2]])}a=d[3]}else{c+=a;break}}return c};
PageSmith.Select={data:[],options:{},init:function(b,a){this.options=b;this.data=a;return this},format:PageSmith.format,draw:function(){for(var b=[],a=this.data.length;a;a--)b.unshift('<option value="'+this.format(this.data[a-1],this.options.value_template)+'">'+this.format(this.data[a-1],this.options.label_template)+"</option>");this.options.first_line&&b.unshift('<option value="">'+this.options.first_line+"</option>");return'<select id="'+this.options.id+'" name="'+this.options.name+'">'+b.join("")+
"</select>"}};
PageSmith.Table={data:[],options:{},structure:[],format:PageSmith.format,init:function(b,a,c){this.structure=a;this.options=b;this.data=c;return this},draw:function(){for(var b=[],a=this.structure.length;a;a--){var c=this.structure[a-1];b.unshift("<th>"+c.label+"</th>")}for(var d=[],e=this.data.length;e;e--){r=[];for(a=this.structure.length;a;a--){c=this.structure[a-1];var f="";f=c.format?this.format(this.data[e-1],c.format):this.data[e-1][c.vid];if(f==null)f=c.def;r.unshift('<td class="'+c.align+
'">'+f+"</td>")}d.unshift("<tr>"+r.join("")+"</tr>")}return'<table class="'+this.options.className+'"><thead><tr>'+b.join("")+"</tr></thead><tbody>"+d.join("")+"</tbody></table>"}};PageSmith.Timer={t0:0,set_status:function(b){if(typeof console!="undefined"){var a=((new Date).getTime()-this.t0)/1E3;console.log(a.toFixed(3)+": "+(b==""?"completed":b))}$("#status").html(b)},init:function(){this.t0=(new Date).getTime()}};
